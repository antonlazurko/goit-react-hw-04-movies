{"version":3,"sources":["services/movie-api.tsx","views/HomeView.module.css","../node_modules/react-firebase-hooks/firestore/dist/index.esm.js","../node_modules/@material-ui/icons/Delete.js","../node_modules/@material-ui/core/esm/ListItemSecondaryAction/ListItemSecondaryAction.js","views/FavoriteMovieView/FavoriteMovieView.tsx"],"names":["BASE_URL","AUTH_KEY","fetchMovies","a","url","fetch","response","ok","json","Promise","reject","Error","fetchPopularMovies","fetchMoviesByQuery","movieQuery","queryPage","fetchMovieDetails","movieId","fetchMovieCast","fetchMovieReviews","module","exports","snapshotToData","snapshot","snapshotOptions","idField","refField","transform","exists","data","id","ref","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","defaultState","defaultValue","loading","undefined","value","useLoadingValue","getDefaultValue","_a","useReducer","state","action","type","error","dispatch","reset","setError","setValue","useMemo","isEqual","v1","v2","bothNull","equal","useIsEqualRef","onChange","useRef","useEffect","current","useComparatorRef","useCollectionData","query","options","useCollectionDataInternal","useCollectionInternal","listen","listener_1","snapshotListenOptions","onSnapshot","get","getOptions","then","catch","resArray","snapshots","docs","map","doc","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","default","React","_default","createElement","d","ListItemSecondaryAction","props","classes","className","other","_objectWithoutProperties","_extends","clsx","root","muiName","withStyles","position","right","top","name","FavoriteMovieView","useContext","FirebaseContext","firestore","auth","useState","movies","setMovies","location","useLocation","useAuthState","user","collection","displayName","includeMetadataChanges","favoriteMovies","movieRender","favoriteMovieEl","moviesArr","movie","find","ListItem","to","pathname","from","title","IconButton","aria-label","onClick","delete","console","log","fontSize","moviesAPI","results","List","favoriteMovie","styles"],"mappings":"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","file":"static/js/10.c163087b.chunk.js","sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\r\nconst AUTH_KEY = 'd66f8875c56322c0e6582f80570eea14';\r\ntype TMovie = { id: string, name: string, title: string,poster_path:string,release_date:string }\r\n\r\ntype TFetchMoviesByQuery = (movieQuery: string, queryPage: number)=>Promise<{results:TMovie[]}>;\r\nasync function fetchMovies(url = '') {\r\n  const response = await fetch(url);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error('Not found'));\r\n}\r\nexport function fetchPopularMovies() {\r\n  return fetchMovies(`${BASE_URL}/trending/all/day?api_key=${AUTH_KEY}`);\r\n}\r\nexport const fetchMoviesByQuery:TFetchMoviesByQuery=(movieQuery, queryPage)=> {\r\n   return fetchMovies(\r\n    `${BASE_URL}/search/movie?api_key=${AUTH_KEY}&query=${movieQuery}&page=${queryPage}`,\r\n  );\r\n}\r\nexport function fetchMovieDetails(movieId:string) {\r\n  return fetchMovies(`${BASE_URL}/movie/${movieId}?api_key=${AUTH_KEY}`);\r\n}\r\nexport function fetchMovieCast(movieId:string) {\r\n  return fetchMovies(\r\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${AUTH_KEY}`,\r\n  );\r\n}\r\nexport function fetchMovieReviews(movieId:string) {\r\n  return fetchMovies(\r\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${AUTH_KEY}`,\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HomeView_title__35BlT\",\"list\":\"HomeView_list__1sizy\",\"item\":\"HomeView_item__A1DJP\",\"name\":\"HomeView_name__1dDaR\",\"deleteBtn\":\"HomeView_deleteBtn__2flHo\"};","import { useMemo, useReducer, useEffect, useRef } from 'react';\n\nvar snapshotToData = function (snapshot, snapshotOptions, idField, refField, transform) {\r\n    if (!snapshot.exists) {\r\n        return undefined;\r\n    }\r\n    var data = snapshot.data(snapshotOptions);\r\n    if (transform) {\r\n        data = transform(data);\r\n    }\r\n    if (idField) {\r\n        data[idField] = snapshot.id;\r\n    }\r\n    if (refField) {\r\n        data[refField] = snapshot.ref;\r\n    }\r\n    return data;\r\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign({}, state, { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign({}, state, { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    };\r\n    var setError = function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    };\r\n    var setValue = function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    };\r\n    return useMemo(function () { return ({\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    }); }, [state.error, state.loading, reset, setError, setValue, state.value]);\r\n});\n\nvar useComparatorRef = function (value, isEqual, onChange) {\r\n    var ref = useRef(value);\r\n    useEffect(function () {\r\n        if (!isEqual(value, ref.current)) {\r\n            ref.current = value;\r\n            if (onChange) {\r\n                onChange();\r\n            }\r\n        }\r\n    });\r\n    return ref;\r\n};\r\nvar isEqual = function (v1, v2) {\r\n    var bothNull = !v1 && !v2;\r\n    var equal = !!v1 && !!v2 && v1.isEqual(v2);\r\n    return bothNull || equal;\r\n};\r\nvar useIsEqualRef = function (value, onChange) {\r\n    return useComparatorRef(value, isEqual, onChange);\r\n};\n\nvar useCollection = function (query, options) {\r\n    return useCollectionInternal(true, query, options);\r\n};\r\nvar useCollectionOnce = function (query, options) {\r\n    return useCollectionInternal(false, query, options);\r\n};\r\nvar useCollectionData = function (query, options) {\r\n    return useCollectionDataInternal(true, query, options);\r\n};\r\nvar useCollectionDataOnce = function (query, options) {\r\n    return useCollectionDataInternal(false, query, options);\r\n};\r\nvar useCollectionInternal = function (listen, query, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(query, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useCollectionDataInternal = function (listen, query, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useCollectionInternal(listen, query, options), snapshots = _a[0], loading = _a[1], error = _a[2];\r\n    var values = useMemo(function () {\r\n        return (snapshots\r\n            ? snapshots.docs.map(function (doc) {\r\n                return snapshotToData(doc, snapshotOptions, idField, refField, transform);\r\n            })\r\n            : undefined);\r\n    }, [snapshots, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        values,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nvar useDocument = function (docRef, options) {\r\n    return useDocumentInternal(true, docRef, options);\r\n};\r\nvar useDocumentOnce = function (docRef, options) {\r\n    return useDocumentInternal(false, docRef, options);\r\n};\r\nvar useDocumentData = function (docRef, options) {\r\n    return useDocumentDataInternal(true, docRef, options);\r\n};\r\nvar useDocumentDataOnce = function (docRef, options) {\r\n    return useDocumentDataInternal(false, docRef, options);\r\n};\r\nvar useDocumentInternal = function (listen, docRef, options) {\r\n    var _a = useLoadingValue(), error = _a.error, loading = _a.loading, reset = _a.reset, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    var ref = useIsEqualRef(docRef, reset);\r\n    useEffect(function () {\r\n        if (!ref.current) {\r\n            setValue(undefined);\r\n            return;\r\n        }\r\n        if (listen) {\r\n            var listener_1 = options && options.snapshotListenOptions\r\n                ? ref.current.onSnapshot(options.snapshotListenOptions, setValue, setError)\r\n                : ref.current.onSnapshot(setValue, setError);\r\n            return function () {\r\n                listener_1();\r\n            };\r\n        }\r\n        else {\r\n            ref.current\r\n                .get(options ? options.getOptions : undefined)\r\n                .then(setValue)\r\n                .catch(setError);\r\n        }\r\n    }, [ref.current]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\r\nvar useDocumentDataInternal = function (listen, docRef, options) {\r\n    var idField = options ? options.idField : undefined;\r\n    var refField = options ? options.refField : undefined;\r\n    var snapshotOptions = options ? options.snapshotOptions : undefined;\r\n    var transform = options ? options.transform : undefined;\r\n    var _a = useDocumentInternal(listen, docRef, options), snapshot = _a[0], loading = _a[1], error = _a[2];\r\n    var value = useMemo(function () {\r\n        return (snapshot\r\n            ? snapshotToData(snapshot, snapshotOptions, idField, refField, transform)\r\n            : undefined);\r\n    }, [snapshot, snapshotOptions, idField, refField, transform]);\r\n    var resArray = [\r\n        value,\r\n        loading,\r\n        error,\r\n    ];\r\n    return useMemo(function () { return resArray; }, resArray);\r\n};\n\nexport { useCollection, useCollectionOnce, useCollectionData, useCollectionDataOnce, useDocument, useDocumentData, useDocumentOnce, useDocumentDataOnce };\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    position: 'absolute',\n    right: 16,\n    top: '50%',\n    transform: 'translateY(-50%)'\n  }\n};\n/**\n * Must be used as the last child of ListItem to function properly.\n */\n\nvar ListItemSecondaryAction = /*#__PURE__*/React.forwardRef(function ListItemSecondaryAction(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemSecondaryAction.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally an `IconButton` or selection control.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nListItemSecondaryAction.muiName = 'ListItemSecondaryAction';\nexport default withStyles(styles, {\n  name: 'MuiListItemSecondaryAction'\n})(ListItemSecondaryAction);","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport {\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n} from \"@material-ui/core\";\r\n\r\nimport { FirebaseContext } from \"../../index\";\r\n\r\nimport { TMovies } from \"../../types\";\r\nimport * as moviesAPI from \"../../services/movie-api\";\r\nimport s from \"../HomeView.module.css\";\r\nimport styles from \"./FavoriteMovieView.module.css\";\r\n\r\nconst FavoriteMovieView: React.FC = () => {\r\n  const { firestore, auth } = useContext(FirebaseContext);\r\n  const [movies, setMovies] = useState<TMovies[]>([]);\r\n  const location = useLocation();\r\n  const [user] = useAuthState(auth);\r\n  const [favoriteMovies, loading, error] = useCollectionData(\r\n    firestore?.collection(`${user?.displayName}`),\r\n    {\r\n      snapshotListenOptions: { includeMetadataChanges: true },\r\n    }\r\n  );\r\n  const handleRemoveFavorite = (id: string) => {\r\n    firestore\r\n      ?.collection(`${user?.displayName}`)\r\n      .doc(`movieId${id}`)\r\n      .delete()\r\n      .then(() => {\r\n        console.log(\"Document successfully deleted!\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n  };\r\n  const movieRender = (favoriteMovieEl: any, moviesArr: TMovies[] | []) => {\r\n    const movie = moviesArr.find(\r\n      (movie) => `${movie.id}` === favoriteMovieEl.movieId\r\n    );\r\n\r\n    return (\r\n      <ListItem key={favoriteMovieEl.movieId}>\r\n        <Link\r\n          to={{\r\n            pathname: `/movies/${movie?.id}`,\r\n            state: { from: location },\r\n          }}\r\n          className={s.name}\r\n        >\r\n          {movie?.name ?? movie?.title}\r\n        </Link>\r\n        <ListItemSecondaryAction>\r\n          <IconButton\r\n            aria-label=\"delete\"\r\n            onClick={() => handleRemoveFavorite(favoriteMovieEl.movieId)}\r\n          >\r\n            <DeleteIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    moviesAPI\r\n      .fetchPopularMovies()\r\n      .then(({ results }) => {\r\n        setMovies(results);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h1 className={s.title}>Favorites</h1>\r\n      {favoriteMovies?.length ? (\r\n        <List>\r\n          {loading && <div>Loading</div>}\r\n          {error && <div>{error}</div>}\r\n          {!loading &&\r\n            favoriteMovies?.map((favoriteMovie) =>\r\n              movieRender(favoriteMovie, movies)\r\n            )}\r\n        </List>\r\n      ) : (\r\n        <h2 className={`${styles.title}`}>No one movie</h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default FavoriteMovieView;\r\n"],"sourceRoot":""}