(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{12:function(e,t,c){e.exports={Searchbar:"Searchbar_Searchbar__28z4-",ImageGallery:"Searchbar_ImageGallery__2Ieky",ImageGalleryItem:"Searchbar_ImageGalleryItem__35Tqm",ImageGalleryItem_Image:"Searchbar_ImageGalleryItem_Image__2cM2l"}},13:function(e,t,c){e.exports={link:"Navigation_link__2qY_2",activeLink:"Navigation_activeLink__Xr8US"}},19:function(e,t,c){e.exports={container:"Container_container__S6JDz"}},20:function(e,t,c){e.exports={header:"AppBar_header__3Nfcp"}},39:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),i=c(10),s=c.n(i),o=c(4),j=c(2),l=c(19),u=c.n(l);function b(e){var t=e.children;return Object(n.jsx)("div",{className:u.a.container,children:t})}var h=c(20),d=c.n(h),O=c(13),m=c.n(O),x=function(){return Object(n.jsxs)("nav",{children:[Object(n.jsx)(o.c,{exact:!0,to:"/",className:m.a.link,activeClassName:m.a.activeLink,children:"HomePage"}),Object(n.jsx)(o.c,{to:"/movies",className:m.a.link,activeClassName:m.a.activeLink,children:"MoviesPage"})]})};function f(){return Object(n.jsx)("div",{className:d.a.AppBar,children:Object(n.jsx)(x,{})})}var p=c(6),v=c(18),g=c.n(v),_=c(22),S="https://api.themoviedb.org/3",k="d66f8875c56322c0e6582f80570eea14";function I(){return y.apply(this,arguments)}function y(){return(y=Object(_.a)(g.a.mark((function e(){var t,c,n=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(t);case 3:if(!(c=e.sent).ok){e.next=10;break}return e.next=7,c.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N="idle",w="pending",F="resolved",C="rejected";function E(){var e=Object(j.g)().url,t=Object(a.useState)(null),c=Object(p.a)(t,2),r=c[0],i=c[1],s=Object(a.useState)(N),l=Object(p.a)(s,2),u=(l[0],l[1]);return Object(a.useEffect)((function(){u(w),I("".concat(S,"/trending/all/day?api_key=").concat(k)).then((function(e){var t=e.results;t.length?(i(t),u(F)):(u(C),i(r))}))}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:"Trending this week"}),Object(n.jsxs)("ul",{children:[r&&r.map((function(t){return Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"".concat(e).concat(t.id),children:t.name})},t.id)})),Object(n.jsx)("li",{})]})]})}var G=c(23),L=(c(38),c(12)),B=c.n(L);function P(e){var t=e.onSearchbarSubmit,c=Object(a.useState)(""),r=Object(p.a)(c,2),i=r[0],s=r[1];return Object(n.jsx)("header",{className:B.a.Searchbar,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i.trim()?(t(i.toLowerCase()),s("")):Object(G.a)("Type something to find.")},className:B.a.SearchForm,children:[Object(n.jsx)("button",{type:"submit",className:B.a.SearchFormButton,children:Object(n.jsx)("span",{className:B.a.SearchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{className:B.a.SearchFormInput,value:i,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){s(e.currentTarget.value)}})]})})}function T(){var e=Object(j.g)(),t=Object(a.useState)(""),c=Object(p.a)(t,2),r=c[0],i=c[1],s=Object(a.useState)([]),l=Object(p.a)(s,2),u=l[0],b=l[1];return Object(a.useEffect)((function(){""!==r&&function(e){return I("".concat(S,"/search/movie?api_key=").concat(k,"&query=").concat(e))}(r).then((function(e){var t=e.results;return b(t)}))}),[r]),console.log(e),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P,{onSearchbarSubmit:function(e){i(e)}}),r&&Object(n.jsx)("ul",{children:u.map((function(t){return Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"".concat(e.url,"/").concat(t.id),children:t.title})},t.id)}))})]})}function q(){return Object(n.jsx)("h1",{children:"Page not found"})}function J(e){var t=e.movieId,c=Object(a.useState)([]),r=Object(p.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){var e;(e=t,I("".concat(S,"/movie/").concat(e,"/credits?api_key=").concat(k))).then((function(e){var t=e.cast;return s(t)}))}),[t]),Object(n.jsx)(n.Fragment,{children:i&&Object(n.jsx)("ul",{children:i.map((function(e){return Object(n.jsxs)("li",{children:[e.name,e.profile_path&&Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.profile_path),alt:e.name})]},e.id)}))})})}var M="idle",z="resolved";function A(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),c=t[0],r=t[1],i=Object(a.useState)(M),s=Object(p.a)(i,2),l=(s[0],s[1]),u=Object(j.f)().movieId,b=Object(j.g)().url;return console.log(b),Object(a.useEffect)((function(){(function(e){return I("".concat(S,"/movie/").concat(e,"?api_key=").concat(k))})(u).then((function(e){r(e),l(z)}))}),[u]),Object(n.jsx)(n.Fragment,{children:c&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:c.title}),c.poster_path&&Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(c.poster_path),alt:c.title}),Object(n.jsxs)(o.c,{to:"".concat(b,"/Cast"),children:['Cast of "',c.title,'" movie']}),Object(n.jsx)("hr",{}),Object(n.jsx)(j.a,{exact:!0,path:"".concat(b,"/Cast"),children:Object(n.jsx)(J,{movieId:u})})]})})}function D(){return Object(n.jsxs)(b,{children:[Object(n.jsx)(f,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(E,{})}),Object(n.jsx)(j.a,{exact:!0,path:"/movies",children:Object(n.jsx)(T,{})}),Object(n.jsx)(j.a,{exact:!0,path:"/:movieId",children:Object(n.jsx)(A,{})}),Object(n.jsx)(j.a,{exact:!0,path:"/movies/:movieId",children:Object(n.jsx)(A,{})}),Object(n.jsx)(j.a,{children:Object(n.jsx)(q,{})})]})]})}s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(D,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.2b432434.chunk.js.map