(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{12:function(e,t,c){e.exports={Searchbar:"Searchbar_Searchbar__28z4-",ImageGallery:"Searchbar_ImageGallery__2Ieky",ImageGalleryItem:"Searchbar_ImageGalleryItem__35Tqm",ImageGalleryItem_Image:"Searchbar_ImageGalleryItem_Image__2cM2l"}},13:function(e,t,c){e.exports={link:"Navigation_link__2qY_2",activeLink:"Navigation_activeLink__Xr8US"}},19:function(e,t,c){e.exports={container:"Container_container__S6JDz"}},20:function(e,t,c){e.exports={header:"AppBar_header__3Nfcp"}},39:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),i=c(10),s=c.n(i),o=c(5),j=c(3),b=c(19),l=c.n(b);function u(e){var t=e.children;return Object(n.jsx)("div",{className:l.a.container,children:t})}var O=c(20),h=c.n(O),d=c(13),m=c.n(d),x=function(){return Object(n.jsxs)("nav",{children:[Object(n.jsx)(o.c,{exact:!0,to:"/",className:m.a.link,activeClassName:m.a.activeLink,children:"HomePage"}),Object(n.jsx)(o.c,{to:"/movies",className:m.a.link,activeClassName:m.a.activeLink,children:"MoviesPage"})]})};function E(){return Object(n.jsx)("div",{className:h.a.AppBar,children:Object(n.jsx)(x,{})})}var p=c(2),f=c(18),v=c.n(f),S=c(22),D="https://api.themoviedb.org/3",g="d66f8875c56322c0e6582f80570eea14";function I(){return N.apply(this,arguments)}function N(){return(N=Object(S.a)(v.a.mark((function e(){var t,c,n=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch(t);case 3:if(!(c=e.sent).ok){e.next=10;break}return e.next=7,c.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"};function R(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),c=t[0],r=t[1],i=Object(a.useState)(_.IDLE),s=Object(p.a)(i,2),j=s[0],b=s[1],l=Object(a.useState)(""),u=Object(p.a)(l,2),O=u[0],h=u[1];return Object(a.useEffect)((function(){b(_.PENDING),I("".concat(D,"/trending/all/day?api_key=").concat(g)).then((function(e){var t=e.results;t.length?(r(t),b(_.RESOLVED)):(b(_.REJECTED),r(c))})).catch((function(e){h(e),b(_.REJECTED)}))}),[]),Object(n.jsxs)(n.Fragment,{children:[j===_.PENDING&&Object(n.jsx)("p",{children:"Download trending collection"}),j===_.REJECTED&&Object(n.jsx)("p",{children:O}),j===_.RESOLVED&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{children:"Trending this week"}),Object(n.jsx)("ul",{children:c&&c.map((function(e){var t;return Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"movies/".concat(e.id),children:null!==(t=e.name)&&void 0!==t?t:e.title})},e.id)}))})]})]})}var w=c(23),L=(c(38),c(12)),k=c.n(L);function C(e){var t=e.onSearchbarSubmit,c=Object(a.useState)(""),r=Object(p.a)(c,2),i=r[0],s=r[1];return Object(n.jsx)("header",{className:k.a.Searchbar,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i.trim()?(t(i.toLowerCase()),s("")):Object(w.a)("Type something to find.")},className:k.a.SearchForm,children:[Object(n.jsx)("button",{type:"submit",className:k.a.SearchFormButton,children:Object(n.jsx)("span",{className:k.a.SearchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{className:k.a.SearchFormInput,value:i,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){s(e.currentTarget.value)}})]})})}function y(){Object(j.g)().url;var e=Object(a.useState)(""),t=Object(p.a)(e,2),c=t[0],r=t[1],i=Object(a.useState)([]),s=Object(p.a)(i,2),b=s[0],l=s[1],u=Object(a.useState)(_.IDLE),O=Object(p.a)(u,2),h=O[0],d=O[1],m=Object(a.useState)(""),x=Object(p.a)(m,2),E=x[0],f=x[1];return Object(a.useEffect)((function(){""!==c&&(d(_.PENDING),function(e){return I("".concat(D,"/search/movie?api_key=").concat(g,"&query=").concat(e))}(c).then((function(e){var t=e.results;l(t),d(_.RESOLVED)})).catch((function(e){f(e),d(_.REJECTED)})))}),[c]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(C,{onSearchbarSubmit:function(e){r(e)}}),h===_.PENDING&&Object(n.jsx)("p",{children:"Download movie collection"}),h===_.REJECTED&&Object(n.jsx)("p",{children:E}),h===_.RESOLVED&&Object(n.jsx)("ul",{children:b.map((function(e){return Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]})}function G(){return Object(n.jsx)("h1",{children:"Page not found"})}function T(e){var t=e.movieId,c=Object(a.useState)([]),r=Object(p.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(_.IDLE),j=Object(p.a)(o,2),b=j[0],l=j[1],u=Object(a.useState)(""),O=Object(p.a)(u,2),h=O[0],d=O[1];return Object(a.useEffect)((function(){l(_.PENDING),function(e){return I("".concat(D,"/movie/").concat(e,"/credits?api_key=").concat(g))}(t).then((function(e){var t=e.cast;s(t),l(_.RESOLVED)})).catch((function(e){d(e),l(_.REJECTED)}))}),[t]),Object(n.jsxs)(n.Fragment,{children:[" ",b===_.PENDING&&Object(n.jsx)("p",{children:"Download cast"}),b===_.REJECTED&&Object(n.jsx)("p",{children:h}),b===_.RESOLVED&&Object(n.jsxs)("ul",{children:[i===[]&&Object(n.jsx)("p",{children:"No cast information"}),i.map((function(e){return Object(n.jsxs)("li",{children:[e.name,e.profile_path&&Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.profile_path),alt:e.name})]},e.id)}))]})]})}function J(e){var t=e.movieId,c=Object(a.useState)([]),r=Object(p.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(_.IDLE),j=Object(p.a)(o,2),b=j[0],l=j[1],u=Object(a.useState)(""),O=Object(p.a)(u,2),h=O[0],d=O[1];return Object(a.useEffect)((function(){l(_.PENDING),function(e){return I("".concat(D,"/movie/").concat(e,"/reviews?api_key=").concat(g))}(t).then((function(e){var t=e.results;s(t),l(_.RESOLVED)})).catch((function(e){d(e),l(_.REJECTED)}))}),[t]),Object(n.jsxs)(n.Fragment,{children:[b===_.PENDING&&Object(n.jsx)("p",{children:"Download movie reviews"}),b===_.REJECTED&&Object(n.jsx)("p",{children:h}),b===_.RESOLVED&&Object(n.jsxs)("ul",{children:[0===i.length&&Object(n.jsx)("p",{children:"There is no one review for this movie"}),i.map((function(e){return Object(n.jsxs)("li",{children:[e.author,e.profile_path&&Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.avatar_path),alt:e.name}),Object(n.jsx)("p",{children:e.content})]},e.id)}))]})]})}function P(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),c=t[0],r=t[1],i=Object(a.useState)(_.IDLE),s=Object(p.a)(i,2),b=s[0],l=s[1],u=Object(a.useState)(""),O=Object(p.a)(u,2),h=O[0],d=O[1],m=Object(j.f)().movieId,x=Object(j.g)(),E=x.url,f=x.path;return Object(a.useEffect)((function(){l(_.PENDING),function(e){return I("".concat(D,"/movie/").concat(e,"?api_key=").concat(g))}(m).then((function(e){r(e),l(_.RESOLVED)})).catch((function(e){d(e),l(_.REJECTED)}))}),[m]),Object(n.jsxs)(n.Fragment,{children:[b===_.PENDING&&Object(n.jsx)("p",{children:"Download movie"}),b===_.REJECTED&&Object(n.jsx)("p",{children:h}),b===_.RESOLVED&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("button",{children:"Go back"}),Object(n.jsx)("h1",{children:c.title}),c.poster_path&&Object(n.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(c.poster_path),alt:c.title}),Object(n.jsxs)(o.c,{to:"".concat(E,"/Cast"),children:['Cast of "',c.title,'" movie']}),Object(n.jsxs)(o.c,{to:"".concat(E,"/Reviews"),children:['Reviews of "',c.title,'" movie']}),Object(n.jsx)("hr",{}),Object(n.jsx)(j.a,{path:"".concat(f,"/Cast"),children:Object(n.jsx)(T,{movieId:m})}),Object(n.jsx)(j.a,{path:"".concat(f,"/Reviews"),children:Object(n.jsx)(J,{movieId:m})})]})]})}function F(){return Object(n.jsxs)(u,{children:[Object(n.jsx)(E,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(R,{})}),Object(n.jsx)(j.a,{exact:!0,path:"/movies",children:Object(n.jsx)(y,{})}),Object(n.jsx)(j.a,{path:"/movies/:movieId",children:Object(n.jsx)(P,{})}),Object(n.jsx)(j.a,{children:Object(n.jsx)(G,{})})]})]})}s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)(F,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.73e44510.chunk.js.map