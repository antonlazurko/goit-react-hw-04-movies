(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[4],{120:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return d}));var c=n(121),a=n.n(c),r=n(122),o="https://api.themoviedb.org/3",i="d66f8875c56322c0e6582f80570eea14";function s(){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(a.a.mark((function e(){var t,n,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",e.next=3,fetch(t);case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return s("".concat(o,"/trending/all/day?api_key=").concat(i))}var j=function(e,t){return s("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&page=").concat(t))};function f(e){return s("".concat(o,"/movie/").concat(e,"?api_key=").concat(i))}function b(e){return s("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i))}function d(e){return s("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i))}},124:function(e,t,n){"use strict";t.a={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},131:function(e,t,n){e.exports={list:"MoviesView_list__15dqM",item:"MoviesView_item__1Zm0g",title:"MoviesView_title__K0mGv",listNotification:"MoviesView_listNotification__vkVoa"}},155:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var c=n(4),a=n(144),r=n(60),o=n(33),i=n(2),s=n(20),u=n(128),l=n(150),j=n(151),f=n(116),b=n(132),d=n.n(b),h=n(16),p=n(120),O=n(130),m=n.n(O),v=n(110),x=n(157),E=n(154),y=(n(129),Object(v.a)((function(e){return Object(x.a)({root:{marginTop:"40px"},searchBar:{display:"flex",justifyContent:"center"}})})));function S(e){var t=e.onSearchbarSubmit,n=y(),a=Object(i.useState)(""),r=Object(o.a)(a,2),s=r[0],l=r[1];return Object(c.jsx)("div",{className:n.searchBar,children:Object(c.jsxs)("form",{className:n.root,onSubmit:function(e){e.preventDefault(),""!==s.trim()?(t(s.toLowerCase()),l("")):Object(u.b)("Type something to find.")},noValidate:!0,autoComplete:"off",children:[Object(c.jsx)(E.a,{placeholder:"Search movies",inputProps:{"aria-label":"description"},value:s,type:"text",autoComplete:"off",autoFocus:!0,onChange:function(e){return l(e.currentTarget.value)}}),Object(c.jsx)(f.a,{variant:"contained",color:"secondary",size:"small",type:"submit",startIcon:Object(c.jsx)(m.a,{}),children:"Search"})]})})}var g=n(124),_=n(131),N=n.n(_);function w(){var e,t=Object(h.g)(),n=Object(h.h)(),b=Object(i.useState)(null!==(e=new URLSearchParams(n.search).get("query"))&&void 0!==e?e:""),O=Object(o.a)(b,2),m=O[0],v=O[1],x=Object(i.useState)(1),E=Object(o.a)(x,2),y=E[0],_=E[1],w=Object(i.useState)([]),k=Object(o.a)(w,2),D=k[0],C=k[1],V=Object(i.useState)(g.a.IDLE),L=Object(o.a)(V,2),R=L[0],T=L[1],I=Object(i.useState)(""),P=Object(o.a)(I,2),q=P[0],J=P[1];Object(i.useEffect)((function(){_(1),C([])}),[m]);return Object(i.useEffect)((function(){""!==m&&(T(g.a.PENDING),p.d(m,y).then((function(e){var t=e.results;C((function(e){return[].concat(Object(a.a)(e),Object(a.a)(t))})),T(g.a.RESOLVED),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){J(e),T(g.a.REJECTED)})))}),[m,y]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S,{onSearchbarSubmit:function(e){t.push(Object(r.a)(Object(r.a)({},n),{},{search:"query=".concat(e)})),v(e)}}),Object(c.jsx)(u.a,{autoClose:3e3,position:"top-center"}),R===g.a.PENDING&&Object(c.jsx)("p",{children:"Download movie collection"}),R===g.a.REJECTED&&Object(c.jsx)("p",{children:q}),R===g.a.RESOLVED&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(l.a,{children:[D.length<1&&Object(c.jsx)("div",{className:N.a.listNotification,children:"No results for your request."}),D.map((function(e){return Object(c.jsx)(j.a,{className:N.a.item,children:Object(c.jsx)(s.b,{className:N.a.title,to:{pathname:"/movies/".concat(e.id),state:{from:n}},children:e.title})},e.id)}))]}),D.length>0&&Object(c.jsxs)(f.a,{onClick:function(){return _((function(e){return e+1}))},variant:"outlined",children:["Load more",Object(c.jsx)(d.a,{fontSize:"small"})]})]})]})}}}]);
//# sourceMappingURL=MoviesView.615f2dcb.chunk.js.map