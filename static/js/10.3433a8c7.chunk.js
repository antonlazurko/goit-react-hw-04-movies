(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[10],{120:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return m}));var r=n(121),o=n.n(r),c=n(122),i="https://api.themoviedb.org/3",a="d66f8875c56322c0e6582f80570eea14";function u(){return s.apply(this,arguments)}function s(){return(s=Object(c.a)(o.a.mark((function e(){var t,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,fetch(t);case 3:if(!(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return u("".concat(i,"/trending/all/day?api_key=").concat(a))}var d=function(e,t){return u("".concat(i,"/search/movie?api_key=").concat(a,"&query=").concat(e,"&page=").concat(t))};function f(e){return u("".concat(i,"/movie/").concat(e,"?api_key=").concat(a))}function v(e){return u("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(a))}function m(e){return u("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(a))}},125:function(e,t,n){e.exports={title:"HomeView_title__35BlT",list:"HomeView_list__1sizy",item:"HomeView_item__A1DJP",name:"HomeView_name__1dDaR",deleteBtn:"HomeView_deleteBtn__2flHo"}},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),o=function(e,t,n,r,o){if(e.exists){var c=e.data(t);return o&&(c=o(c)),n&&(c[n]=e.id),r&&(c[r]=e.ref),c}},c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e){return{loading:void 0===e||null===e,value:e}},a=function(e){var t=e?e():void 0,n=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return c({},e,{error:t.error,loading:!1,value:void 0});case"reset":return i(t.defaultValue);case"value":return c({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),i(t)),o=n[0],a=n[1],u=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},s=function(e){a({type:"error",error:e})},l=function(e){a({type:"value",value:e})};return Object(r.useMemo)((function(){return{error:o.error,loading:o.loading,reset:u,setError:s,setValue:l,value:o.value}}),[o.error,o.loading,u,s,l,o.value])},u=function(e,t){var n=!e&&!t,r=!!e&&!!t&&e.isEqual(t);return n||r},s=function(e,t){return function(e,t,n){var o=Object(r.useRef)(e);return Object(r.useEffect)((function(){t(e,o.current)||(o.current=e,n&&n())})),o}(e,u,t)},l=function(e,t){return f(!0,e,t)},d=function(e,t,n){var o=a(),c=o.error,i=o.loading,u=o.reset,l=o.setError,d=o.setValue,f=o.value,v=s(t,u);Object(r.useEffect)((function(){if(v.current){if(e){var t=n&&n.snapshotListenOptions?v.current.onSnapshot(n.snapshotListenOptions,d,l):v.current.onSnapshot(d,l);return function(){t()}}v.current.get(n?n.getOptions:void 0).then(d).catch(l)}else d(void 0)}),[v.current]);var m=[f,i,c];return Object(r.useMemo)((function(){return m}),m)},f=function(e,t,n){var c=n?n.idField:void 0,i=n?n.refField:void 0,a=n?n.snapshotOptions:void 0,u=n?n.transform:void 0,s=d(e,t,n),l=s[0],f=s[1],v=s[2],m=[Object(r.useMemo)((function(){return l?l.docs.map((function(e){return o(e,a,c,i,u)})):void 0}),[l,a,c,i,u]),f,v];return Object(r.useMemo)((function(){return m}),m)}},136:function(e,t,n){},137:function(e,t,n){"use strict";var r=n(45),o=n(46);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(n(2)),i=(0,r(n(47)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=i},156:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(33),c=n(2),i=n(126),a=n(16),u=n(20),s=n(40),l=n(137),d=n.n(l),f=n(151),v=n(3),m=n(7),p=(n(15),n(8)),h=n(14),j=c.forwardRef((function(e,t){var n=e.classes,r=e.className,o=Object(m.a)(e,["classes","className"]);return c.createElement("div",Object(v.a)({className:Object(p.a)(n.root,r),ref:t},o))}));j.muiName="ListItemSecondaryAction";var b=Object(h.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(j),O=n(114),g=n(150),y=n(69),_=n(120),x=n(125),w=n.n(x),k=n(136),N=n.n(k);t.default=function(){var e=Object(c.useContext)(y.FirebaseContext),t=e.firestore,n=e.auth,l=Object(c.useState)([]),v=Object(o.a)(l,2),m=v[0],p=v[1],h=Object(a.h)(),j=Object(s.a)(n),x=Object(o.a)(j,1)[0],k=Object(i.a)(null===t||void 0===t?void 0:t.collection("".concat(null===x||void 0===x?void 0:x.displayName)),{snapshotListenOptions:{includeMetadataChanges:!0}}),V=Object(o.a)(k,3),E=V[0],M=V[1],H=V[2],I=function(e,n){var o,c=n.find((function(t){return"".concat(t.id)===e.movieId}));return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(u.b,{to:{pathname:"/movies/".concat(null===c||void 0===c?void 0:c.id),state:{from:h}},className:w.a.name,children:null!==(o=null===c||void 0===c?void 0:c.name)&&void 0!==o?o:null===c||void 0===c?void 0:c.title}),Object(r.jsx)(b,{children:Object(r.jsx)(O.a,{"aria-label":"delete",onClick:function(){return n=e.movieId,void(null===t||void 0===t||t.collection("".concat(null===x||void 0===x?void 0:x.displayName)).doc("movieId".concat(n)).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)})));var n},children:Object(r.jsx)(d.a,{fontSize:"small"})})})]},e.movieId)};return Object(c.useEffect)((function(){_.e().then((function(e){var t=e.results;p(t)})).catch((function(e){console.log(e)}))}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{className:w.a.title,children:"Favorites"}),(null===E||void 0===E?void 0:E.length)?Object(r.jsxs)(g.a,{children:[M&&Object(r.jsx)("div",{children:"Loading"}),H&&Object(r.jsx)("div",{children:H}),!M&&(null===E||void 0===E?void 0:E.map((function(e){return I(e,m)})))]}):Object(r.jsx)("h2",{className:"".concat(N.a.title),children:"No one movie"})]})}}}]);
//# sourceMappingURL=10.3433a8c7.chunk.js.map